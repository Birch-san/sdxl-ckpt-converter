{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Python: Convert SDXL OG ckpt to Diffusers",
      "type": "python",
      "request": "launch",
      "module": "script.convert_sdxl_og_ckpt_to_diffusers",
      "justMyCode": false,
      "args": [
        "--fp16",
        "--use_safetensors",
        "--reference_model",
        "${input:referenceModel}",
        "${input:inputFinetunedModel}",
        "${input:outputDir}",
      ],
      "env": {
        "PYTHONPATH": "${workspaceFolder}/lib/kohya_ss:${env.PYTHONPATH}"
      }
    }
  ],
  "inputs": [
    {
      "id": "referenceModel",
      "description": "Reference Diffusers model from which to copy scheduler/tokenizer config",
      "type": "promptString",
      "default": "stabilityai/stable-diffusion-xl-base-1.0",
    },
    {
      "id": "inputFinetunedModel",
      "description": "Finetuned SDXL base model to convert, in OG format (one big .safetensors file)",
      "type": "promptString",
      "default": "/mnt/wd-dataset/wdxl-dist/wdxl-step00006000.safetensors",
    },
    {
      "id": "outputDir",
      "description": "Directory into which to output the converted SDXL model in Diffusers format. Will create a unet subdirectory and output the base UNet there.",
      "type": "promptString",
      "default": "/mnt/wd-dataset/wdxl-dist-diffusers/wdxl-step00006000",
    },
  ],
}